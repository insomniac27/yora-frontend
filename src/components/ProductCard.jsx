import React, { useState } from "react";
import ToolTip from "./Tooltip";
import { Link, useLocation, useNavigate } from "react-router";
import { useDispatch, useSelector } from "react-redux";
import { addToCart } from "../store/slices/cartSlice";
import {
  addToWishlist,
  removeFromWishlist,
} from "../store/slices/wishlistSlice";
import QuickViewModal from "../components/QuickViewModal"

const ProductCard = ({ imgUrl, name, price, id, size }) => {
  const [isQuickViewOpen, setIsQuickViewOpen] = useState(false);

  const dispatch = useDispatch();
  const navigate = useNavigate();
  const location = useLocation();
  const wishlistItems = useSelector((state) => state.wishlist.items);
  const isInWishlist = wishlistItems.some((item) => item.id === id);
  const isWishlistPage = location.pathname === "/wishlist";

  const handleAddToCart = () => {
    dispatch(
      addToCart({
        id,
        name,
        price,
        image: imgUrl[0],
        size,
        quantity: 1,
      })
    );
  };

  const handleWishlistClick = () => {
    if (isWishlistPage) {
      dispatch(removeFromWishlist(id));
    } else if (isInWishlist) {
      navigate("/wishlist");
    } else {
      dispatch(
        addToWishlist({
          id,
          name,
          price,
          image: imgUrl[0],
          size,
        })
      );
    }
  };

  const getWishlistTooltip = () => {
    if (isWishlistPage) return "Remove from wishlist";
    if (isInWishlist) return "Browse wishlist";
    return "Add to wishlist";
  };

  return (
    <div className=" w-[200px]">
      <div className=" w-[200px] sm:w-[340px] sm:h-[500px] mb-2 relative group">
        <Link to={`/products/${id}`}>
          <img
            className="rounded-xl h-[300px] sm:h-[500px] object-center"
            src={imgUrl[0]}
            alt=""
          />
        </Link>
         {/* "Desktop buttons" */}
         <div className=" sm:block hidden">

        <div className="flex flex-col items-center gap-2 top-4 right-3 absolute transition-all duration-500 opacity-0 translate-x-5 group-hover:opacity-100 group-hover:translate-x-0">
          <div className="relative">
            <ToolTip
              tooltip={getWishlistTooltip()}
              leftClass={`${
                isWishlistPage ? "-left-[180px]" : "-left-[140px]"
              } `}
            >
              <button
                onClick={handleWishlistClick}
                className={`flex justify-center items-center  rounded-full w-10 h-10  ${
                  isInWishlist
                    ? "bg-black text-white"
                    : " bg-white hover:bg-black hover:text-white "
                }`}
              >
                {isWishlistPage ? (
                  <svg
                    width="14"
                    height="13"
                    viewBox="0 0 14 13"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="M3.27515 4.47314L5.92358 7.12158L3.27515 9.77002C3.17358 9.87158 3.1228 9.99072 3.1228 10.1274C3.1228 10.2642 3.17358 10.3794 3.27515 10.4731C3.3689 10.5747 3.48608 10.6255 3.62671 10.6255C3.76733 10.6255 3.88452 10.5747 3.97827 10.4731L6.62671 7.83643L9.27515 10.4731C9.3689 10.5747 9.48608 10.6255 9.62671 10.6255C9.76733 10.6255 9.88452 10.5747 9.97827 10.4731C10.0798 10.3794 10.1306 10.2642 10.1306 10.1274C10.1306 9.99072 10.0798 9.87158 9.97827 9.77002L7.32983 7.12158L9.97827 4.47314C10.0798 4.37939 10.1306 4.26416 10.1306 4.12744C10.1306 3.99072 10.0798 3.87158 9.97827 3.77002C9.88452 3.67627 9.76733 3.62939 9.62671 3.62939C9.48608 3.62939 9.3689 3.67627 9.27515 3.77002L6.62671 6.41846L3.97827 3.77002C3.88452 3.67627 3.76733 3.62939 3.62671 3.62939C3.48608 3.62939 3.3689 3.67627 3.27515 3.77002C3.17358 3.87158 3.1228 3.99072 3.1228 4.12744C3.1228 4.26416 3.17358 4.37939 3.27515 4.47314Z" />
                  </svg>
                ) : (
                  <svg
                    width="22"
                    height="17"
                    viewBox="0 0 22 17"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="M16.8305 2.96814C17.1642 3.30188 17.4146 3.68329 17.5815 4.11237C17.7484 4.52955 17.8318 4.95863 17.8318 5.39964C17.8318 5.84064 17.7484 6.27569 17.5815 6.70478C17.4146 7.12195 17.1642 7.4974 16.8305 7.83114L10.6267 14.035L4.4228 7.83114C4.08906 7.4974 3.83875 7.12195 3.67189 6.70478C3.50503 6.27569 3.42159 5.84064 3.42159 5.39964C3.42159 4.95863 3.50503 4.52955 3.67189 4.11237C3.83875 3.68329 4.08906 3.30188 4.4228 2.96814C4.75653 2.63442 5.13198 2.38411 5.54915 2.21725C5.97823 2.05038 6.41327 1.96695 6.85428 1.96695C7.29529 1.96695 7.72438 2.05038 8.14155 2.21725C8.55871 2.38411 8.94013 2.63442 9.28578 2.96814L10.0903 3.77269C10.2333 3.92764 10.4121 4.0051 10.6267 4.0051C10.8412 4.0051 11.02 3.92764 11.163 3.77269L11.9676 2.96814C12.3132 2.63442 12.6946 2.38411 13.1118 2.21725C13.529 2.05038 13.9581 1.96695 14.3991 1.96695C14.8401 1.96695 15.2691 2.05038 15.6863 2.21725C16.1154 2.38411 16.4968 2.63442 16.8305 2.96814ZM17.9033 1.89543C17.4265 1.40674 16.8782 1.04322 16.2584 0.804837C15.6506 0.566455 15.0307 0.447266 14.3991 0.447266C13.7673 0.447266 13.1475 0.566455 12.5397 0.804837C11.9318 1.04322 11.3835 1.40674 10.8949 1.89543L10.6267 2.16361L10.3585 1.89543C9.8698 1.40674 9.32153 1.04322 8.71366 0.804837C8.10579 0.566455 7.486 0.447266 6.85428 0.447266C6.22257 0.447266 5.59683 0.566455 4.97703 0.804837C4.36915 1.04322 3.82684 1.40674 3.35008 1.89543C2.8614 2.3722 2.49191 2.92048 2.24161 3.54026C2.00322 4.14814 1.88403 4.76793 1.88403 5.39964C1.88403 6.03135 2.00322 6.6571 2.24161 7.2769C2.49191 7.88476 2.8614 8.42708 3.35008 8.90385L10.0903 15.6441C10.2333 15.7991 10.4121 15.8765 10.6267 15.8765C10.8412 15.8765 11.02 15.7991 11.163 15.6441L17.9033 8.90385C18.392 8.42708 18.7554 7.88476 18.9938 7.2769C19.2441 6.6571 19.3692 6.03135 19.3692 5.39964C19.3692 4.76793 19.2441 4.14814 18.9938 3.54026C18.7554 2.93239 18.392 2.38411 17.9033 1.89543Z" />
                  </svg>
                )}
              </button>
            </ToolTip>
          </div>

          <div className="relative">
            <ToolTip tooltip="Quick view" leftClass="-left-[112px]">
              <button
                onClick={() => setIsQuickViewOpen(true)}
                className="flex justify-center items-center bg-white rounded-full w-10 h-10 hover:bg-black hover:text-white"
              >
                <svg
                  width="15"
                  height="12"
                  viewBox="0 0 15 12"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0.195068 5.9082C0.149495 5.99024 0.126709 6.07682 0.126709 6.16797C0.126709 6.25912 0.149495 6.3457 0.195068 6.42774C0.195068 6.42774 0.249756 6.53255 0.359131 6.74219C0.468506 6.94271 0.628011 7.19792 0.837647 7.50781C0.974365 7.69922 1.12476 7.90885 1.28882 8.13672C1.462 8.35547 1.6534 8.57878 1.86304 8.80664C2.12736 9.08919 2.41903 9.37175 2.73804 9.6543C3.06616 9.93685 3.42163 10.1967 3.80444 10.4336C4.26929 10.7253 4.7797 10.9623 5.33569 11.1446C5.89168 11.3269 6.48869 11.418 7.12671 11.418C7.76473 11.418 8.36174 11.3269 8.91773 11.1446C9.47372 10.9623 9.98413 10.7253 10.449 10.4336C10.8318 10.1967 11.1827 9.93685 11.5017 9.6543C11.8298 9.37175 12.126 9.08919 12.3904 8.80664C12.6 8.57878 12.7869 8.35547 12.9509 8.13672C13.1241 7.90885 13.279 7.69922 13.4158 7.50781C13.6254 7.19792 13.7849 6.94271 13.8943 6.74219C14.0037 6.53255 14.0583 6.42774 14.0583 6.42774C14.1039 6.35482 14.1267 6.27279 14.1267 6.18164C14.1267 6.0905 14.1039 5.99935 14.0583 5.9082C14.0583 5.9082 14.0037 5.80794 13.8943 5.60742C13.7849 5.39779 13.6254 5.14258 13.4158 4.8418C13.279 4.65039 13.1241 4.44531 12.9509 4.22656C12.7869 3.9987 12.6 3.77083 12.3904 3.54297C12.126 3.26042 11.8298 2.97787 11.5017 2.69531C11.1827 2.41276 10.8318 2.153 10.449 1.91602C9.98413 1.62435 9.47372 1.38737 8.91773 1.20508C8.36174 1.01367 7.76473 0.917969 7.12671 0.917969C6.48869 0.917969 5.89168 1.01367 5.33569 1.20508C4.7797 1.38737 4.26929 1.62435 3.80444 1.91602C3.42163 2.153 3.06616 2.41276 2.73804 2.69531C2.41903 2.97787 2.12736 3.26042 1.86304 3.54297C1.6534 3.77083 1.462 3.9987 1.28882 4.22656C1.12476 4.44531 0.974365 4.65039 0.837647 4.8418C0.628011 5.14258 0.468506 5.39779 0.359131 5.60742C0.249756 5.80794 0.195068 5.9082 0.195068 5.9082ZM1.37085 6.16797C1.42554 6.08594 1.48478 5.99024 1.54859 5.88086C1.6215 5.76237 1.70809 5.63477 1.80835 5.49805C1.92684 5.32487 2.06356 5.13802 2.21851 4.9375C2.37345 4.73698 2.54207 4.53646 2.72437 4.33594C2.96135 4.07162 3.22111 3.81641 3.50366 3.57031C3.78622 3.32422 4.09155 3.10091 4.41968 2.90039C4.81161 2.6543 5.23088 2.45833 5.67749 2.3125C6.13322 2.16667 6.61629 2.09375 7.12671 2.09375C7.63713 2.09375 8.11564 2.16667 8.56226 2.3125C9.01799 2.45833 9.44181 2.6543 9.83374 2.90039C10.1619 3.10091 10.4672 3.32422 10.7497 3.57031C11.0323 3.81641 11.2921 4.07162 11.529 4.33594C11.7113 4.53646 11.88 4.73698 12.0349 4.9375C12.1899 5.13802 12.3266 5.32487 12.4451 5.49805C12.5453 5.63477 12.6274 5.76237 12.6912 5.88086C12.7641 5.99024 12.8279 6.08594 12.8826 6.16797C12.8279 6.25 12.7641 6.35026 12.6912 6.46875C12.6274 6.57813 12.5453 6.70573 12.4451 6.85156C12.3266 7.02474 12.1899 7.21159 12.0349 7.41211C11.88 7.61263 11.7113 7.81315 11.529 8.01367C11.2921 8.26888 11.0323 8.51953 10.7497 8.76563C10.4672 9.01172 10.1619 9.23958 9.83374 9.44922C9.44181 9.6862 9.01799 9.88216 8.56226 10.0371C8.11564 10.183 7.63713 10.2559 7.12671 10.2559C6.61629 10.2559 6.13322 10.183 5.67749 10.0371C5.23088 9.88216 4.81161 9.6862 4.41968 9.44922C4.09155 9.23958 3.78622 9.01172 3.50366 8.76563C3.22111 8.51953 2.96135 8.26888 2.72437 8.01367C2.54207 7.81315 2.37345 7.61263 2.21851 7.41211C2.06356 7.21159 1.92684 7.02474 1.80835 6.85156C1.70809 6.70573 1.6215 6.57813 1.54859 6.46875C1.48478 6.35026 1.42554 6.25 1.37085 6.16797ZM9.4646 6.16797C9.4646 5.84896 9.4008 5.54818 9.27319 5.26563C9.1547 4.98307 8.99064 4.73698 8.78101 4.52734C8.57137 4.31771 8.32072 4.15365 8.02905 4.03516C7.7465 3.90755 7.44572 3.84375 7.12671 3.84375C6.8077 3.84375 6.50236 3.90755 6.21069 4.03516C5.92814 4.15365 5.68205 4.31771 5.47241 4.52734C5.26278 4.73698 5.09416 4.98307 4.96655 5.26563C4.84806 5.54818 4.78882 5.84896 4.78882 6.16797C4.78882 6.49609 4.84806 6.80143 4.96655 7.08398C5.09416 7.36654 5.26278 7.61263 5.47241 7.82227C5.68205 8.0319 5.92814 8.20052 6.21069 8.32813C6.50236 8.44662 6.8077 8.50586 7.12671 8.50586C7.44572 8.50586 7.7465 8.44662 8.02905 8.32813C8.32072 8.20052 8.57137 8.0319 8.78101 7.82227C8.99064 7.61263 9.1547 7.36654 9.27319 7.08398C9.4008 6.80143 9.4646 6.49609 9.4646 6.16797ZM8.28882 6.16797C8.28882 6.33203 8.25692 6.48698 8.19312 6.63281C8.13843 6.76953 8.0564 6.89258 7.94702 7.00195C7.84676 7.10221 7.72372 7.18425 7.57788 7.24805C7.44116 7.31185 7.29077 7.34375 7.12671 7.34375C6.96265 7.34375 6.8077 7.31185 6.66187 7.24805C6.52515 7.18425 6.40666 7.10221 6.3064 7.00195C6.19702 6.89258 6.11043 6.76953 6.04663 6.63281C5.99194 6.48698 5.9646 6.33203 5.9646 6.16797C5.9646 6.01302 5.99194 5.86719 6.04663 5.73047C6.11043 5.58464 6.19702 5.45703 6.3064 5.34766C6.40666 5.23828 6.52515 5.15625 6.66187 5.10156C6.8077 5.03776 6.96265 5.00586 7.12671 5.00586C7.29077 5.00586 7.44116 5.03776 7.57788 5.10156C7.72372 5.15625 7.84676 5.23828 7.94702 5.34766C8.0564 5.45703 8.13843 5.58464 8.19312 5.73047C8.25692 5.86719 8.28882 6.01302 8.28882 6.16797Z" />
                </svg>
              </button>
            </ToolTip>
          </div>

          <div className="relative">
            <ToolTip tooltip="ADD TO BAG" leftClass="-left-[118px]">
              <button
                onClick={handleAddToCart}
                className="flex justify-center items-center bg-white rounded-full w-10 h-10 hover:bg-black hover:text-white"
              >
                <svg
                  width="22"
                  height="17"
                  viewBox="0 0 22 17"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M14.4966 15.3465C14.2776 15.3465 14.0677 15.2593 13.9129 15.104C13.7581 14.9488 13.6711 14.7382 13.6711 14.5186H12.0203C12.0203 15.1773 12.2812 15.809 12.7456 16.2748C13.2099 16.7405 13.8398 17.0022 14.4966 17.0022C15.1533 17.0022 15.7832 16.7405 16.2476 16.2748C16.712 15.809 16.9729 15.1773 16.9729 14.5186H15.322C15.322 14.7382 15.235 14.9488 15.0802 15.104C14.9254 15.2593 14.7155 15.3465 14.4966 15.3465Z" />
                  <path d="M8.68791 15.3465C8.46899 15.3465 8.25904 15.2593 8.10424 15.104C7.94944 14.9488 7.86247 14.7382 7.86247 14.5186H6.20386C6.20386 14.8453 6.268 15.1687 6.39263 15.4704C6.51726 15.7722 6.69993 16.0464 6.93021 16.2773C7.16049 16.5083 7.43388 16.6915 7.73476 16.8165C8.03564 16.9415 8.35812 17.0058 8.68378 17.0058C9.00945 17.0058 9.33193 16.9415 9.63281 16.8165C9.93369 16.6915 10.2071 16.5083 10.4373 16.2773C10.6676 16.0464 10.8503 15.7722 10.9749 15.4704C11.0996 15.1687 11.1637 14.8453 11.1637 14.5186H9.51283C9.51283 14.7381 9.42594 14.9486 9.27125 15.1038C9.11656 15.2591 8.90674 15.3464 8.68791 15.3465Z" />
                  <path d="M19.4566 1.64987C19.4116 1.64219 19.366 1.63838 19.3204 1.63849H6.11341C5.89449 1.63849 5.68453 1.72571 5.52973 1.88096C5.37494 2.03621 5.28797 2.24678 5.28797 2.46633C5.28797 2.68589 5.37494 2.89646 5.52973 3.05171C5.68453 3.20696 5.89449 3.29418 6.11341 3.29418H18.3459L18.1277 4.60735L16.9705 11.5727H6.20266L3.39617 4.60735L1.72208 0.48882C1.63355 0.295071 1.47392 0.143029 1.27643 0.064345C1.07893 -0.0143396 0.858792 -0.0136042 0.661827 0.0663983C0.464862 0.1464 0.30625 0.299505 0.219008 0.493842C0.131767 0.688178 0.122618 0.908772 0.193466 1.1097L2.86634 7.68744L4.69056 12.5366C4.82521 12.9448 5.10328 13.2283 5.50465 13.2283H17.6695C17.865 13.2284 18.0542 13.159 18.2033 13.0323C18.3525 12.9056 18.452 12.7299 18.4841 12.5366L19.8017 4.60735L20.135 2.60241C20.171 2.38588 20.1197 2.16389 19.9925 1.98526C19.8653 1.80663 19.6725 1.68599 19.4566 1.64987Z" />
                </svg>
              </button>
            </ToolTip>
          </div>
        </div>
         </div>

          {/* "Mobile buttons" */}
         <div className=" sm:hidden block">

        <div className="flex flex-col items-center gap-2 bottom-6 right-3 absolute ">
          <div className="relative">
            
              <button
                onClick={handleWishlistClick}
                className={`flex justify-center items-center  rounded-full w-10 h-10  ${
                  isInWishlist
                    ? "bg-black text-white"
                    : " bg-white hover:bg-black hover:text-white "
                }`}
              >
                {isWishlistPage ? (
                  <svg
                    width="14"
                    height="13"
                    viewBox="0 0 14 13"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="M3.27515 4.47314L5.92358 7.12158L3.27515 9.77002C3.17358 9.87158 3.1228 9.99072 3.1228 10.1274C3.1228 10.2642 3.17358 10.3794 3.27515 10.4731C3.3689 10.5747 3.48608 10.6255 3.62671 10.6255C3.76733 10.6255 3.88452 10.5747 3.97827 10.4731L6.62671 7.83643L9.27515 10.4731C9.3689 10.5747 9.48608 10.6255 9.62671 10.6255C9.76733 10.6255 9.88452 10.5747 9.97827 10.4731C10.0798 10.3794 10.1306 10.2642 10.1306 10.1274C10.1306 9.99072 10.0798 9.87158 9.97827 9.77002L7.32983 7.12158L9.97827 4.47314C10.0798 4.37939 10.1306 4.26416 10.1306 4.12744C10.1306 3.99072 10.0798 3.87158 9.97827 3.77002C9.88452 3.67627 9.76733 3.62939 9.62671 3.62939C9.48608 3.62939 9.3689 3.67627 9.27515 3.77002L6.62671 6.41846L3.97827 3.77002C3.88452 3.67627 3.76733 3.62939 3.62671 3.62939C3.48608 3.62939 3.3689 3.67627 3.27515 3.77002C3.17358 3.87158 3.1228 3.99072 3.1228 4.12744C3.1228 4.26416 3.17358 4.37939 3.27515 4.47314Z" />
                  </svg>
                ) : (
                  <svg
                    width="22"
                    height="17"
                    viewBox="0 0 22 17"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="M16.8305 2.96814C17.1642 3.30188 17.4146 3.68329 17.5815 4.11237C17.7484 4.52955 17.8318 4.95863 17.8318 5.39964C17.8318 5.84064 17.7484 6.27569 17.5815 6.70478C17.4146 7.12195 17.1642 7.4974 16.8305 7.83114L10.6267 14.035L4.4228 7.83114C4.08906 7.4974 3.83875 7.12195 3.67189 6.70478C3.50503 6.27569 3.42159 5.84064 3.42159 5.39964C3.42159 4.95863 3.50503 4.52955 3.67189 4.11237C3.83875 3.68329 4.08906 3.30188 4.4228 2.96814C4.75653 2.63442 5.13198 2.38411 5.54915 2.21725C5.97823 2.05038 6.41327 1.96695 6.85428 1.96695C7.29529 1.96695 7.72438 2.05038 8.14155 2.21725C8.55871 2.38411 8.94013 2.63442 9.28578 2.96814L10.0903 3.77269C10.2333 3.92764 10.4121 4.0051 10.6267 4.0051C10.8412 4.0051 11.02 3.92764 11.163 3.77269L11.9676 2.96814C12.3132 2.63442 12.6946 2.38411 13.1118 2.21725C13.529 2.05038 13.9581 1.96695 14.3991 1.96695C14.8401 1.96695 15.2691 2.05038 15.6863 2.21725C16.1154 2.38411 16.4968 2.63442 16.8305 2.96814ZM17.9033 1.89543C17.4265 1.40674 16.8782 1.04322 16.2584 0.804837C15.6506 0.566455 15.0307 0.447266 14.3991 0.447266C13.7673 0.447266 13.1475 0.566455 12.5397 0.804837C11.9318 1.04322 11.3835 1.40674 10.8949 1.89543L10.6267 2.16361L10.3585 1.89543C9.8698 1.40674 9.32153 1.04322 8.71366 0.804837C8.10579 0.566455 7.486 0.447266 6.85428 0.447266C6.22257 0.447266 5.59683 0.566455 4.97703 0.804837C4.36915 1.04322 3.82684 1.40674 3.35008 1.89543C2.8614 2.3722 2.49191 2.92048 2.24161 3.54026C2.00322 4.14814 1.88403 4.76793 1.88403 5.39964C1.88403 6.03135 2.00322 6.6571 2.24161 7.2769C2.49191 7.88476 2.8614 8.42708 3.35008 8.90385L10.0903 15.6441C10.2333 15.7991 10.4121 15.8765 10.6267 15.8765C10.8412 15.8765 11.02 15.7991 11.163 15.6441L17.9033 8.90385C18.392 8.42708 18.7554 7.88476 18.9938 7.2769C19.2441 6.6571 19.3692 6.03135 19.3692 5.39964C19.3692 4.76793 19.2441 4.14814 18.9938 3.54026C18.7554 2.93239 18.392 2.38411 17.9033 1.89543Z" />
                  </svg>
                )}
              </button>
           
          </div>

          <div className="relative">
            
              <button
                onClick={() => setIsQuickViewOpen(true)}
                className="flex justify-center items-center bg-white rounded-full w-10 h-10 hover:bg-black hover:text-white"
              >
                <svg
                  width="15"
                  height="12"
                  viewBox="0 0 15 12"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0.195068 5.9082C0.149495 5.99024 0.126709 6.07682 0.126709 6.16797C0.126709 6.25912 0.149495 6.3457 0.195068 6.42774C0.195068 6.42774 0.249756 6.53255 0.359131 6.74219C0.468506 6.94271 0.628011 7.19792 0.837647 7.50781C0.974365 7.69922 1.12476 7.90885 1.28882 8.13672C1.462 8.35547 1.6534 8.57878 1.86304 8.80664C2.12736 9.08919 2.41903 9.37175 2.73804 9.6543C3.06616 9.93685 3.42163 10.1967 3.80444 10.4336C4.26929 10.7253 4.7797 10.9623 5.33569 11.1446C5.89168 11.3269 6.48869 11.418 7.12671 11.418C7.76473 11.418 8.36174 11.3269 8.91773 11.1446C9.47372 10.9623 9.98413 10.7253 10.449 10.4336C10.8318 10.1967 11.1827 9.93685 11.5017 9.6543C11.8298 9.37175 12.126 9.08919 12.3904 8.80664C12.6 8.57878 12.7869 8.35547 12.9509 8.13672C13.1241 7.90885 13.279 7.69922 13.4158 7.50781C13.6254 7.19792 13.7849 6.94271 13.8943 6.74219C14.0037 6.53255 14.0583 6.42774 14.0583 6.42774C14.1039 6.35482 14.1267 6.27279 14.1267 6.18164C14.1267 6.0905 14.1039 5.99935 14.0583 5.9082C14.0583 5.9082 14.0037 5.80794 13.8943 5.60742C13.7849 5.39779 13.6254 5.14258 13.4158 4.8418C13.279 4.65039 13.1241 4.44531 12.9509 4.22656C12.7869 3.9987 12.6 3.77083 12.3904 3.54297C12.126 3.26042 11.8298 2.97787 11.5017 2.69531C11.1827 2.41276 10.8318 2.153 10.449 1.91602C9.98413 1.62435 9.47372 1.38737 8.91773 1.20508C8.36174 1.01367 7.76473 0.917969 7.12671 0.917969C6.48869 0.917969 5.89168 1.01367 5.33569 1.20508C4.7797 1.38737 4.26929 1.62435 3.80444 1.91602C3.42163 2.153 3.06616 2.41276 2.73804 2.69531C2.41903 2.97787 2.12736 3.26042 1.86304 3.54297C1.6534 3.77083 1.462 3.9987 1.28882 4.22656C1.12476 4.44531 0.974365 4.65039 0.837647 4.8418C0.628011 5.14258 0.468506 5.39779 0.359131 5.60742C0.249756 5.80794 0.195068 5.9082 0.195068 5.9082ZM1.37085 6.16797C1.42554 6.08594 1.48478 5.99024 1.54859 5.88086C1.6215 5.76237 1.70809 5.63477 1.80835 5.49805C1.92684 5.32487 2.06356 5.13802 2.21851 4.9375C2.37345 4.73698 2.54207 4.53646 2.72437 4.33594C2.96135 4.07162 3.22111 3.81641 3.50366 3.57031C3.78622 3.32422 4.09155 3.10091 4.41968 2.90039C4.81161 2.6543 5.23088 2.45833 5.67749 2.3125C6.13322 2.16667 6.61629 2.09375 7.12671 2.09375C7.63713 2.09375 8.11564 2.16667 8.56226 2.3125C9.01799 2.45833 9.44181 2.6543 9.83374 2.90039C10.1619 3.10091 10.4672 3.32422 10.7497 3.57031C11.0323 3.81641 11.2921 4.07162 11.529 4.33594C11.7113 4.53646 11.88 4.73698 12.0349 4.9375C12.1899 5.13802 12.3266 5.32487 12.4451 5.49805C12.5453 5.63477 12.6274 5.76237 12.6912 5.88086C12.7641 5.99024 12.8279 6.08594 12.8826 6.16797C12.8279 6.25 12.7641 6.35026 12.6912 6.46875C12.6274 6.57813 12.5453 6.70573 12.4451 6.85156C12.3266 7.02474 12.1899 7.21159 12.0349 7.41211C11.88 7.61263 11.7113 7.81315 11.529 8.01367C11.2921 8.26888 11.0323 8.51953 10.7497 8.76563C10.4672 9.01172 10.1619 9.23958 9.83374 9.44922C9.44181 9.6862 9.01799 9.88216 8.56226 10.0371C8.11564 10.183 7.63713 10.2559 7.12671 10.2559C6.61629 10.2559 6.13322 10.183 5.67749 10.0371C5.23088 9.88216 4.81161 9.6862 4.41968 9.44922C4.09155 9.23958 3.78622 9.01172 3.50366 8.76563C3.22111 8.51953 2.96135 8.26888 2.72437 8.01367C2.54207 7.81315 2.37345 7.61263 2.21851 7.41211C2.06356 7.21159 1.92684 7.02474 1.80835 6.85156C1.70809 6.70573 1.6215 6.57813 1.54859 6.46875C1.48478 6.35026 1.42554 6.25 1.37085 6.16797ZM9.4646 6.16797C9.4646 5.84896 9.4008 5.54818 9.27319 5.26563C9.1547 4.98307 8.99064 4.73698 8.78101 4.52734C8.57137 4.31771 8.32072 4.15365 8.02905 4.03516C7.7465 3.90755 7.44572 3.84375 7.12671 3.84375C6.8077 3.84375 6.50236 3.90755 6.21069 4.03516C5.92814 4.15365 5.68205 4.31771 5.47241 4.52734C5.26278 4.73698 5.09416 4.98307 4.96655 5.26563C4.84806 5.54818 4.78882 5.84896 4.78882 6.16797C4.78882 6.49609 4.84806 6.80143 4.96655 7.08398C5.09416 7.36654 5.26278 7.61263 5.47241 7.82227C5.68205 8.0319 5.92814 8.20052 6.21069 8.32813C6.50236 8.44662 6.8077 8.50586 7.12671 8.50586C7.44572 8.50586 7.7465 8.44662 8.02905 8.32813C8.32072 8.20052 8.57137 8.0319 8.78101 7.82227C8.99064 7.61263 9.1547 7.36654 9.27319 7.08398C9.4008 6.80143 9.4646 6.49609 9.4646 6.16797ZM8.28882 6.16797C8.28882 6.33203 8.25692 6.48698 8.19312 6.63281C8.13843 6.76953 8.0564 6.89258 7.94702 7.00195C7.84676 7.10221 7.72372 7.18425 7.57788 7.24805C7.44116 7.31185 7.29077 7.34375 7.12671 7.34375C6.96265 7.34375 6.8077 7.31185 6.66187 7.24805C6.52515 7.18425 6.40666 7.10221 6.3064 7.00195C6.19702 6.89258 6.11043 6.76953 6.04663 6.63281C5.99194 6.48698 5.9646 6.33203 5.9646 6.16797C5.9646 6.01302 5.99194 5.86719 6.04663 5.73047C6.11043 5.58464 6.19702 5.45703 6.3064 5.34766C6.40666 5.23828 6.52515 5.15625 6.66187 5.10156C6.8077 5.03776 6.96265 5.00586 7.12671 5.00586C7.29077 5.00586 7.44116 5.03776 7.57788 5.10156C7.72372 5.15625 7.84676 5.23828 7.94702 5.34766C8.0564 5.45703 8.13843 5.58464 8.19312 5.73047C8.25692 5.86719 8.28882 6.01302 8.28882 6.16797Z" />
                </svg>
              </button>
            
          </div>

          <div className="relative">
           
              <button
                onClick={handleAddToCart}
                className="flex justify-center items-center bg-white rounded-full w-10 h-10 hover:bg-black hover:text-white"
              >
                <svg
                  width="22"
                  height="17"
                  viewBox="0 0 22 17"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M14.4966 15.3465C14.2776 15.3465 14.0677 15.2593 13.9129 15.104C13.7581 14.9488 13.6711 14.7382 13.6711 14.5186H12.0203C12.0203 15.1773 12.2812 15.809 12.7456 16.2748C13.2099 16.7405 13.8398 17.0022 14.4966 17.0022C15.1533 17.0022 15.7832 16.7405 16.2476 16.2748C16.712 15.809 16.9729 15.1773 16.9729 14.5186H15.322C15.322 14.7382 15.235 14.9488 15.0802 15.104C14.9254 15.2593 14.7155 15.3465 14.4966 15.3465Z" />
                  <path d="M8.68791 15.3465C8.46899 15.3465 8.25904 15.2593 8.10424 15.104C7.94944 14.9488 7.86247 14.7382 7.86247 14.5186H6.20386C6.20386 14.8453 6.268 15.1687 6.39263 15.4704C6.51726 15.7722 6.69993 16.0464 6.93021 16.2773C7.16049 16.5083 7.43388 16.6915 7.73476 16.8165C8.03564 16.9415 8.35812 17.0058 8.68378 17.0058C9.00945 17.0058 9.33193 16.9415 9.63281 16.8165C9.93369 16.6915 10.2071 16.5083 10.4373 16.2773C10.6676 16.0464 10.8503 15.7722 10.9749 15.4704C11.0996 15.1687 11.1637 14.8453 11.1637 14.5186H9.51283C9.51283 14.7381 9.42594 14.9486 9.27125 15.1038C9.11656 15.2591 8.90674 15.3464 8.68791 15.3465Z" />
                  <path d="M19.4566 1.64987C19.4116 1.64219 19.366 1.63838 19.3204 1.63849H6.11341C5.89449 1.63849 5.68453 1.72571 5.52973 1.88096C5.37494 2.03621 5.28797 2.24678 5.28797 2.46633C5.28797 2.68589 5.37494 2.89646 5.52973 3.05171C5.68453 3.20696 5.89449 3.29418 6.11341 3.29418H18.3459L18.1277 4.60735L16.9705 11.5727H6.20266L3.39617 4.60735L1.72208 0.48882C1.63355 0.295071 1.47392 0.143029 1.27643 0.064345C1.07893 -0.0143396 0.858792 -0.0136042 0.661827 0.0663983C0.464862 0.1464 0.30625 0.299505 0.219008 0.493842C0.131767 0.688178 0.122618 0.908772 0.193466 1.1097L2.86634 7.68744L4.69056 12.5366C4.82521 12.9448 5.10328 13.2283 5.50465 13.2283H17.6695C17.865 13.2284 18.0542 13.159 18.2033 13.0323C18.3525 12.9056 18.452 12.7299 18.4841 12.5366L19.8017 4.60735L20.135 2.60241C20.171 2.38588 20.1197 2.16389 19.9925 1.98526C19.8653 1.80663 19.6725 1.68599 19.4566 1.64987Z" />
                </svg>
              </button>
           
          </div>
        </div>
         </div>




      </div>
      <Link to={`/products/${id}`}>
        <p className="font-light hover:text-gray-600 transition-all duration-500">
          {name}
        </p>
      </Link>
      <p className="font-light text-sm">Rs. {price.toLocaleString()}</p>
      <QuickViewModal
        isOpen={isQuickViewOpen}
        onClose={() => setIsQuickViewOpen(false)}
        productId={id}
      />
    </div>
  );
};

export default ProductCard;
